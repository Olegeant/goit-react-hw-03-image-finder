{"version":3,"sources":["components/Button/Button.module.css","components/Notification/Notification.module.css","components/Modal/Modal.module.css","components/ScrollArrow/ScrollArrow.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","utils/image-api.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Notification/Notification.js","components/Loader/Loader.js","components/Modal/Modal.js","utils/utils.js","components/ScrollArrow/ScrollArrow.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","RESOURCE_URL","API_KEY","OPTIONS","api","fetchImages","query","page","searchParams","URLSearchParams","image_type","orientation","q","per_page","key","url","fetch","then","response","ok","json","Promise","reject","Error","Searchbar","state","searchQuery","handleQueryChange","evt","setState","target","value","toLowerCase","handleSubmit","preventDefault","newQuery","trim","props","onSubmit","toast","error","this","className","styles","SearchForm","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","id","tags","src","alt","ImageGallery","images","onImgClick","onClick","currentTarget","clickedImgId","Number","dataset","map","image","webformatURL","Button","loading","children","ButtonLoading","ButtonText","defaultProps","Notification","Message","join","Loader","color","height","width","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","window","addEventListener","removeEventListener","largeImageURL","createPortal","Overlay","CloseBtn","throttle","func","wait","savedArgs","savedThis","isThrottled","wrapper","arguments","apply","setTimeout","ScrollArrow","isArrowShown","onArrowClick","scrollTo","top","left","pageXOffset","behavior","body","scrollHeight","scrollManager","pageYOffset","documentElement","clientHeight","throttledScrollManager","makeArrowStyles","ArrowUp","ArrowDown","Status","App","pagesDisplayed","status","isModalOpen","modalImage","isLoading","isLoadBtnShown","handleData","data","hits","filter","some","toggleModal","prevstate","onImageClick","clickedImage","find","addPage","handleFormSubmit","prevProps","prevState","prevQuery","nextQuery","prevPage","nextPage","imageAPI","length","catch","message","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.31e10316.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1mqHX\",\"ButtonLoading\":\"Button_ButtonLoading__2zcQU Button_Button__1mqHX\",\"ButtonText\":\"Button_ButtonText__1_nJL\",\"rotate\":\"Button_rotate__BUN8k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Notification\":\"Notification_Notification__1NQSE\",\"Message\":\"Notification_Message__2ncF3\",\"info\":\"Notification_info__PPAX_\",\"warning\":\"Notification_warning__zYUqL\",\"error\":\"Notification_error__3bF65\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1q57T\",\"Modal\":\"Modal_Modal__2RT_S\",\"CloseBtn\":\"Modal_CloseBtn__248JT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Arrow\":\"ScrollArrow_Arrow__pgxIc\",\"ArrowUp\":\"ScrollArrow_ArrowUp__1GOC0 ScrollArrow_Arrow__pgxIc\",\"ArrowDown\":\"ScrollArrow_ArrowDown__39y96 ScrollArrow_Arrow__pgxIc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2V_LK\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__2GDvy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3hUNl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__EQ6dL\"};","const RESOURCE_URL = 'https://pixabay.com/api/';\r\nconst API_KEY = '21850804-e13ac47ee6c84255406cdac88';\r\nconst PER_PAGE_DEFAULT = 12;\r\n\r\nconst OPTIONS = {};\r\n\r\nfunction fetchImages(query, page = 1) {\r\n  const searchParams = new URLSearchParams({\r\n    image_type: 'photo',\r\n    orientation: 'horizontal',\r\n    q: query,\r\n    page,\r\n    per_page: PER_PAGE_DEFAULT,\r\n    key: API_KEY,\r\n  });\r\n\r\n  const url = RESOURCE_URL + '?' + searchParams;\r\n\r\n  return fetch(url, OPTIONS).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n\r\n    return Promise.reject(new Error('Unexpected error from server side'));\r\n  });\r\n}\r\n\r\nconst api = {\r\n  fetchImages,\r\n};\r\n\r\nexport default api;\r\n","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport styles from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    searchQuery: '',\r\n  };\r\n\r\n  handleQueryChange = evt => {\r\n    this.setState({ searchQuery: evt.target.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = evt => {\r\n    evt.preventDefault();\r\n    const newQuery = this.state.searchQuery.trim();\r\n\r\n    if (!newQuery) {\r\n      toast.error('Enter search query');\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(newQuery);\r\n    this.setState({ searchQuery: '' });\r\n  };\r\n\r\n  render() {\r\n    const { searchQuery } = this.state;\r\n    const { handleSubmit, handleQueryChange } = this;\r\n\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={handleSubmit}>\r\n          <button type=\"submit\" className={styles['SearchForm-button']}>\r\n            <span className={styles['SearchForm-button-label']}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles['SearchForm-input']}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={searchQuery}\r\n            onChange={handleQueryChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nfunction ImageGalleryItem({ url, id, tags }) {\r\n  return (\r\n    <li className={styles.ImageGalleryItem}>\r\n      <img\r\n        src={url}\r\n        data-id={id}\r\n        alt={tags}\r\n        className={styles['ImageGalleryItem-image']}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n\r\nImageGalleryItem.propTypes = {\r\n  url: PropTypes.string.isRequired,\r\n  id: PropTypes.number.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport styles from './ImageGallery.module.css';\r\n\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nfunction ImageGallery({ images, onImgClick }) {\r\n  const handleClick = evt => {\r\n    if (evt.target === evt.currentTarget) return;\r\n\r\n    const clickedImgId = Number(evt.target.dataset.id);\r\n    onImgClick(clickedImgId);\r\n  };\r\n\r\n  return (\r\n    <ul className={styles.ImageGallery} onClick={handleClick}>\r\n      {images.map(image => (\r\n        <ImageGalleryItem\r\n          key={image.id}\r\n          id={image.id}\r\n          url={image.webformatURL}\r\n          tags={image.tags}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default ImageGallery;\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  onImgClick: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './Button.module.css';\r\n\r\nfunction Button({ onClick, loading, children }) {\r\n  const handleClick = () => {\r\n    if (loading) return;\r\n\r\n    onClick();\r\n  };\r\n\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      onClick={handleClick}\r\n      className={loading ? styles.ButtonLoading : styles.Button}\r\n    >\r\n      <span className={styles.ButtonText}>{children}</span>\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Button;\r\n\r\nButton.defaultProps = {\r\n  loading: false,\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n  loading: PropTypes.bool,\r\n  children: PropTypes.node.isRequired,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport styles from './Notification.module.css';\r\n\r\nfunction Notification({ type, children }) {\r\n  const makemessageStyles = () => {\r\n    return [styles.Message, styles[type]].join(' ');\r\n  };\r\n\r\n  return (\r\n    <div className={styles.Notification}>\r\n      <p className={makemessageStyles()}>{children}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Notification;\r\n\r\nNotification.defaultProps = {\r\n  type: 'info',\r\n};\r\n\r\nNotification.propTypes = {\r\n  type: PropTypes.oneOf(['info', 'warning', 'error']),\r\n  children: PropTypes.node.isRequired,\r\n};\r\n","import Spinner from 'react-loader-spinner';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Loader.module.css';\r\n\r\nexport default function Loader({ type, color, height, width }) {\r\n  return (\r\n    <Spinner\r\n      className={styles.Loader}\r\n      type={type}\r\n      color={color}\r\n      height={height}\r\n      width={width}\r\n    />\r\n  );\r\n}\r\n\r\nLoader.propTypes = {\r\n  type: PropTypes.string.isRequired,\r\n  color: PropTypes.string.isRequired,\r\n  height: PropTypes.number.isRequired,\r\n  width: PropTypes.number.isRequired,\r\n};\r\n","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = evt => {\r\n    if (evt.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = evt => {\r\n    if (evt.currentTarget === evt.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      image: { largeImageURL, tags },\r\n      onClose,\r\n    } = this.props;\r\n    const { handleBackdropClick } = this;\r\n\r\n    return createPortal(\r\n      <div className={styles.Overlay} onClick={handleBackdropClick}>\r\n        <div className={styles.Modal}>\r\n          <img src={largeImageURL} alt={tags} />\r\n        </div>\r\n        <button type=\"button\" className={styles.CloseBtn} onClick={onClose}>\r\n          &#10006;\r\n        </button>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n\r\nModal.propTypes = {\r\n  image: PropTypes.shape({\r\n    largeImageURL: PropTypes.string,\r\n    tags: PropTypes.string,\r\n  }).isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n","export function throttle(func, wait) {\r\n  let isThrottled = false,\r\n    savedArgs,\r\n    savedThis;\r\n\r\n  function wrapper() {\r\n    if (isThrottled) {\r\n      savedArgs = arguments;\r\n      savedThis = this;\r\n      return;\r\n    }\r\n\r\n    func.apply(this, arguments);\r\n\r\n    isThrottled = true;\r\n\r\n    setTimeout(function () {\r\n      isThrottled = false;\r\n      if (savedArgs) {\r\n        wrapper.apply(savedThis, savedArgs);\r\n        savedArgs = savedThis = null;\r\n      }\r\n    }, wait);\r\n  }\r\n\r\n  return wrapper;\r\n}\r\n","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { throttle } from '../../utils/utils';\r\nimport styles from './ScrollArrow.module.css';\r\n\r\nclass ScrollArrow extends Component {\r\n  state = {\r\n    isArrowShown: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('scroll', this.throttledScrollManager);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('scroll', this.throttledScrollManager);\r\n  }\r\n\r\n  onArrowClick = () => {\r\n    switch (this.props.type) {\r\n      case 'up':\r\n        window.scrollTo({\r\n          top: 0,\r\n          left: window.pageXOffset,\r\n          behavior: 'smooth',\r\n        });\r\n        break;\r\n\r\n      case 'down':\r\n        window.scrollTo({\r\n          top: document.body.scrollHeight,\r\n          left: window.pageXOffset,\r\n          behavior: 'smooth',\r\n        });\r\n        break;\r\n\r\n      default:\r\n    }\r\n  };\r\n\r\n  scrollManager = () => {\r\n    switch (this.props.type) {\r\n      case 'up':\r\n        this.setState({\r\n          isArrowShown:\r\n            window.pageYOffset > document.documentElement.clientHeight,\r\n        });\r\n        break;\r\n\r\n      case 'down':\r\n        this.setState({\r\n          isArrowShown:\r\n            window.pageYOffset + 2 * document.documentElement.clientHeight <\r\n            document.body.scrollHeight,\r\n        });\r\n        break;\r\n\r\n      default:\r\n    }\r\n  };\r\n\r\n  throttledScrollManager = throttle(this.scrollManager, 500);\r\n\r\n  makeArrowStyles = () => {\r\n    switch (this.props.type) {\r\n      case 'up':\r\n        return styles.ArrowUp;\r\n\r\n      case 'down':\r\n        return styles.ArrowDown;\r\n\r\n      default:\r\n        return styles.ArrowUp;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { onArrowClick, makeArrowStyles } = this;\r\n\r\n    return this.state.isArrowShown ? (\r\n      <div className={makeArrowStyles()} onClick={onArrowClick}></div>\r\n    ) : null;\r\n  }\r\n}\r\n\r\nexport default ScrollArrow;\r\n\r\nScrollArrow.propTypes = {\r\n  type: PropTypes.oneOf(['up', 'down']).isRequired,\r\n};\r\n","import { Component } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport imageAPI from './utils/image-api.js';\n\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport Notification from './components/Notification/Notification';\nimport Loader from './components/Loader/Loader';\nimport Modal from './components/Modal/Modal';\nimport ScrollArrow from './components/ScrollArrow/ScrollArrow';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n    pagesDisplayed: 1,\n    images: [],\n    error: null,\n    status: Status.IDLE,\n    isModalOpen: false,\n    modalImage: null,\n    isLoading: false,\n    isLoadBtnShown: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n\n    const prevPage = prevState.pagesDisplayed;\n    const nextPage = this.state.pagesDisplayed;\n\n    if (prevQuery !== nextQuery || prevPage !== nextPage) {\n      this.setState({ status: Status.PENDING, isLoading: true });\n\n      imageAPI\n        .fetchImages(nextQuery, nextPage)\n        .then(this.handleData)\n        .then(images => {\n          if (images.length === 0) {\n            if (nextPage === 1) {\n              toast.error('No images for this query. Try another search');\n            } else {\n              toast.error(\n                'No more images on Pixabay! You may add your images!',\n              );\n            }\n\n            this.setState({ isLoadBtnShown: false });\n          } else {\n            this.setState({ isLoadBtnShown: true });\n          }\n\n          this.setState({\n            images: [...this.state.images, ...images],\n            pagesDisplayed: nextPage,\n            status: Status.RESOLVED,\n            isLoading: false,\n          });\n\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        })\n        .catch(error => {\n          toast.error(error.message);\n          this.setState({ error, status: Status.REJECTED, isLoading: false });\n        });\n    }\n  }\n\n  handleData = data => {\n    return data.hits\n      .map(({ id, webformatURL, largeImageURL, tags }) => ({\n        id,\n        webformatURL,\n        largeImageURL,\n        tags,\n      }))\n      .filter(image => !this.state.images.some(({ id }) => id === image.id));\n  };\n\n  toggleModal = () => {\n    this.setState(prevstate => ({ isModalOpen: !prevstate.isModalOpen }));\n  };\n\n  onImageClick = clickedImgId => {\n    const clickedImage = this.state.images.find(image => {\n      return clickedImgId === image.id;\n    });\n    this.setState({ modalImage: clickedImage });\n\n    this.toggleModal();\n  };\n\n  addPage = () => {\n    this.setState({ pagesDisplayed: this.state.pagesDisplayed + 1 });\n  };\n\n  handleFormSubmit = searchQuery => {\n    if (searchQuery === this.state.searchQuery) {\n      this.addPage();\n      return;\n    }\n\n    this.setState({\n      searchQuery,\n      images: [],\n      pagesDisplayed: 1,\n    });\n  };\n\n  render() {\n    const {\n      status,\n      error,\n      images,\n      isModalOpen,\n      modalImage,\n      isLoadBtnShown,\n      isLoading,\n    } = this.state;\n\n    const { handleFormSubmit, toggleModal, onImageClick, addPage } = this;\n\n    return (\n      <>\n        <Searchbar onSubmit={handleFormSubmit} />\n\n        {status === Status.IDLE && (\n          <Notification type=\"info\">\n            No images yet. Please enter the query for search!\n          </Notification>\n        )}\n\n        {status === Status.RESOLVED && images.length === 0 && (\n          <Notification type=\"warning\">No search results...</Notification>\n        )}\n\n        {status === Status.REJECTED && images.length === 0 && (\n          <Notification type=\"error\">\n            ERROR OCCURRED! {error.message}\n          </Notification>\n        )}\n\n        <ImageGallery images={images} onImgClick={onImageClick} />\n\n        {isLoadBtnShown && (\n          <Button onClick={addPage} loading={isLoading}>\n            Load more...\n          </Button>\n        )}\n\n        {<ToastContainer autoClose={3000} />}\n\n        {isModalOpen && <Modal image={modalImage} onClose={toggleModal} />}\n\n        {isLoading && (\n          <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={180} width={180} />\n        )}\n\n        <ScrollArrow type=\"down\" />\n        <ScrollArrow type=\"up\" />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2cDnu\",\"SearchForm\":\"Searchbar_SearchForm__1gEOQ\",\"SearchForm-button\":\"Searchbar_SearchForm-button__2cu33\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__227HC\",\"SearchForm-input\":\"Searchbar_SearchForm-input__30dbW\"};"],"sourceRoot":""}